# Reference
<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

**Classes**

_Public Classes_

* [`slate`](#slate): slate  Main class, includes all other classes.
* [`slate::accounts`](#slateaccounts): This class creates SLATE administrator accounts.
* [`slate::kubeadm::packages`](#slatekubeadmpackages): This class handles installation of Docker and Kubernetes as a single-node cluster.
* [`slate::kubeadm::run_init`](#slatekubeadmrun_init): This class handles kubeadm init.
* [`slate::packages`](#slatepackages): This class handles installation of SLATE required packages.
* [`slate::registration`](#slateregistration): This class handles SLATE cluster federation registration.
* [`slate::security`](#slatesecurity): This class handles setting (and disabling) security settings for SLATE, such as
the firewall, selinux, and ssh login settings.
* [`slate::tuning`](#slatetuning): This class handles tuning of sysctl parameters for SLATE.

_Private Classes_

* `slate::dell::dsu`: This class handles installation of the DSU utility to update firmware.
* `slate::dell::keys`: This class handles installation of Dell's public keys.
* `slate::dell::racadm`: This class handles installation of RACADM.
* `slate::dell::repo`: This class handles installation of Dell's DSU repository.
* `slate::kubeadm::post`: This class handles kubeadm commands post Kubernetes installation, such as
cni network provider, scheduling on controller, etc.
* `slate::kubeadm::pre`: This class handles pre-Kubernetes installation steps such as disabling swap,
setting up kernel modules, etc.

**Functions**

* [`slate_create_flags`](#slate_create_flags): Transforms a hash into a string of slate create flags

## Classes

### slate

slate

Main class, includes all other classes.

#### Parameters

The following parameters are available in the `slate` class.

##### `create_slate_admin_accounts`

Data type: `Boolean`

Includes slate::accounts class to create SLATE administrator accounts.

Default value: `true`

##### `single_node_cluster`

Data type: `Boolean`

Installs and configures Kubernetes as a single-node cluster. Do not enable
if you setup Kubernetes yourself or use puppetlabs-kubernetes.

Default value: `true`

##### `slate_tmp_dir`

Data type: `String`

The directory to hold temporary SLATE files.

Default value: '/tmp/slate'

### slate::accounts

This class creates SLATE administrator accounts.

* **See also**
https://forge.puppet.com/puppetlabs/accounts

#### Parameters

The following parameters are available in the `slate::accounts` class.

##### `user_accounts`

Data type: `Accounts::User::Hash`

An Accounts::User::Hash of users to create.

##### `user_defaults`

Data type: `Accounts::User::Resource`

An Accounts::User::Resource containing the default settings
to apply to created accounts.

##### `passwordless_sudo_on_wheel`

Data type: `Boolean`

If true, users in group 'wheel' will have NOPASSWD sudo access.

### slate::kubeadm::packages

This class handles installation of Docker and Kubernetes as a single-node cluster.

* **Note** This class assumes installation on a CentOS 7 machine.
Docker is installed using systemd as the cgroupdriver.

#### Parameters

The following parameters are available in the `slate::kubeadm::packages` class.

##### `k8s_version`

Data type: `String`

The version of Kubernetes to install.

Default value: '1.15.5'

##### `docker_version`

Data type: `String`

The version of Docker to install.

Default value: '19.03.3'

### slate::kubeadm::run_init

This class handles kubeadm init.

### slate::packages

This class handles installation of SLATE required packages.

#### Parameters

The following parameters are available in the `slate::packages` class.

##### `install_dell_tools`

Data type: `Boolean`

Installs RACADM and dsu if the manufacturer is 'Dell Inc.'

Default value: `true`

##### `package_list`

Data type: `Array`

The list of package names to install.

Default value: ['htop', 'strace', 'tmux', 'iftop', 'screen', 'sysstat', 'jq', 'curl']

##### `slate_tmp_dir`

Data type: `String`

The directory to unpack the SLATE CLI into.

Default value: $slate::slate_tmp_dir

### slate::registration

This class handles SLATE cluster federation registration.

* **Note** This class requires the SLATE CLI to have been installed and present in
either '/usr', '/usr/bin', '/sbin', '/usr/local/bin'

#### Parameters

The following parameters are available in the `slate::registration` class.

##### `slate_client_token`

Data type: `String`

The client token obtained for your user from the SLATE portal.

##### `slate_cluster_name`

Data type: `String`

The name to register your cluster as.

##### `slate_group_name`

Data type: `String`

The group name to register your cluster under.

##### `slate_org_name`

Data type: `String`

The organization name to register your cluster under.

##### `slate_endpoint_url`

Data type: `String`

The API endpoint for the SLATE CLI.

Default value: 'https://api.slateci.io:18080'

##### `ingress_enabled`

Data type: `Boolean`

Set to false if you do not have an ingress controller installed
on your Kubernetes cluster (e.g. MetalLB).

Default value: `true`

##### `slate_loc_lat`

Data type: `Optional[String]`

The latitude of your SLATE cluster location. Due to SLATE CLI limitations,
this is not fully declarative and is only run on the initial SLATE cluster registration.

##### `slate_loc_long`

Data type: `Optional[String]`

The longitude of your SLATE cluster location. Due to SLATE CLI limitations,
this is not fully declarative and is only run on the initial SLATE cluster registration.

### slate::security

This class handles setting (and disabling) security settings for SLATE, such as
the firewall, selinux, and ssh login settings.

#### Parameters

The following parameters are available in the `slate::security` class.

##### `disable_root_ssh`

Data type: `Boolean`

Ensures 'PermitRootLogin no' is set in `/etc/ssh/sshd_config`.

Default value: `true`

### slate::tuning

This class handles tuning of sysctl parameters for SLATE.

## Functions

### slate_create_flags

Type: Ruby 3.x API

Transforms a hash into a string of slate create flags

#### `slate_create_flags()`

Transforms a hash into a string of slate create flags

Returns: `Any`

